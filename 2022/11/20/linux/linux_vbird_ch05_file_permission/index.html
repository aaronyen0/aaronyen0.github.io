<!DOCTYPE HTML>
<html lang="en">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="鳥哥私房菜 ch5：檔案權限與目錄配置, AKAARTOEN">
    <meta name="description" content="Linux file permission">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>鳥哥私房菜 ch5：檔案權限與目錄配置 | AKAARTOEN</title>
    <link rel="icon" type="image/png" href="/favicon.png">
    


    <!-- bg-cover style     -->



<link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.min.css">
<link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
<link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
<link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
<link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
<link rel="stylesheet" type="text/css" href="/css/matery.css">
<link rel="stylesheet" type="text/css" href="/css/my.css">
<link rel="stylesheet" type="text/css" href="/css/dark.css" media="none" onload="if(media!='all')media='all'">




    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
    <link rel="stylesheet" href="/css/post.css">




    



    <script src="/libs/jquery/jquery-3.6.0.min.js"></script>

<meta name="generator" content="Hexo 6.3.0"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">AKAARTOEN</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>Index</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>Tags</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>Categories</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>Archives</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>About</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>Contact</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>Friends</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="Search" style="zoom: 0.85;"></i>
    </a>
  </li>
  <li>
    <a href="javascript:;" class="waves-effect waves-light" onclick="switchNightMode()" title="深色/浅色模式" >
      <i id="sum-moon-icon" class="fas fa-sun" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">AKAARTOEN</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			Index
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			Tags
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			Categories
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			Archives
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			About
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			Contact
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			Friends
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/0.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">鳥哥私房菜 ch5：檔案權限與目錄配置</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/Linux/">
                                <span class="chip bg-color">Linux</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/Linux-Bootcamp/" class="post-category">
                                Linux Bootcamp
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>Publish Date:&nbsp;&nbsp;
                    2022-11-20
                </div>
                

                

                

                

                
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="/libs/prism/prism.min.css">
        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="鳥哥私房菜-ch5：檔案權限與目錄配置"><a href="#鳥哥私房菜-ch5：檔案權限與目錄配置" class="headerlink" title="鳥哥私房菜 ch5：檔案權限與目錄配置"></a><a target="_blank" rel="noopener" href="https://linux.vbird.org/linux_basic/centos7/0210filepermission.php">鳥哥私房菜 ch5：檔案權限與目錄配置</a></h1><p>全文皆為幫助自己記憶所節錄的內容</p>
<h2 id="1-使用者與群組"><a href="#1-使用者與群組" class="headerlink" title="1. 使用者與群組"></a>1. 使用者與群組</h2><ul>
<li><p>使用者種類</p>
<ul>
<li>owner, group, other</li>
<li>root</li>
</ul>
</li>
<li><p>設定檔</p>
<ul>
<li>系統上的帳號與一般身份使用者，還有root相關資訊，記錄在: &#x2F;etc&#x2F;passwd</li>
<li>個人的密碼記錄在: &#x2F;etc&#x2F;shadow</li>
<li>群組名稱都紀錄在: &#x2F;etc&#x2F;group</li>
</ul>
</li>
</ul>
<h2 id="2-Linux檔案權限概念"><a href="#2-Linux檔案權限概念" class="headerlink" title="2. Linux檔案權限概念"></a>2. Linux檔案權限概念</h2><p>Linux檔案權限的重要性</p>
<ul>
<li>系統保護的功能</li>
<li>團隊開發軟體或資料共用的功能</li>
<li>造成危害</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># ls -al</span>
total <span class="token number">156</span>
drwxr-x---   <span class="token number">4</span>    root   root     <span class="token number">4096</span>   Sep  <span class="token number">8</span> <span class="token number">14</span>:06 <span class="token builtin class-name">.</span>
drwxr-xr-x  <span class="token number">23</span>    root   root     <span class="token number">4096</span>   Sep  <span class="token number">8</span> <span class="token number">14</span>:21 <span class="token punctuation">..</span>
-rw-------   <span class="token number">1</span>    root   root     <span class="token number">1474</span>   Sep  <span class="token number">4</span> <span class="token number">18</span>:27 anaconda-ks.cfg
-rw-------   <span class="token number">1</span>    root   root      <span class="token number">199</span>   Sep  <span class="token number">8</span> <span class="token number">17</span>:14 .bash_history
-rw-r--r--   <span class="token number">1</span>    root   root       <span class="token number">24</span>   Jan  <span class="token number">6</span>  <span class="token number">2007</span> .bash_logout
-rw-r--r--   <span class="token number">1</span>    root   root      <span class="token number">191</span>   Jan  <span class="token number">6</span>  <span class="token number">2007</span> .bash_profile
-rw-r--r--   <span class="token number">1</span>    root   root      <span class="token number">176</span>   Jan  <span class="token number">6</span>  <span class="token number">2007</span> .bashrc
-rw-r--r--   <span class="token number">1</span>    root   root      <span class="token number">100</span>   Jan  <span class="token number">6</span>  <span class="token number">2007</span> .cshrc
drwx------   <span class="token number">3</span>    root   root     <span class="token number">4096</span>   Sep  <span class="token number">5</span> <span class="token number">10</span>:37 .gconf      <span class="token operator">&lt;=</span>範例說明處
drwx------   <span class="token number">2</span>    root   root     <span class="token number">4096</span>   Sep  <span class="token number">5</span> <span class="token number">14</span>:09 .gconfd
-rw-r--r--   <span class="token number">1</span>    root   root    <span class="token number">42304</span>   Sep  <span class="token number">4</span> <span class="token number">18</span>:26 install.log <span class="token operator">&lt;=</span>範例說明處
-rw-r--r--   <span class="token number">1</span>    root   root     <span class="token number">5661</span>   Sep  <span class="token number">4</span> <span class="token number">18</span>:25 install.log.syslog
<span class="token punctuation">[</span>    <span class="token number">1</span>   <span class="token punctuation">]</span><span class="token punctuation">[</span>  <span class="token number">2</span> <span class="token punctuation">]</span><span class="token punctuation">[</span>   <span class="token number">3</span>  <span class="token punctuation">]</span><span class="token punctuation">[</span>  <span class="token number">4</span> <span class="token punctuation">]</span><span class="token punctuation">[</span>    <span class="token number">5</span>   <span class="token punctuation">]</span><span class="token punctuation">[</span>     <span class="token number">6</span>      <span class="token punctuation">]</span><span class="token punctuation">[</span>       <span class="token number">7</span>             <span class="token punctuation">]</span>
<span class="token punctuation">[</span>  權限  <span class="token punctuation">]</span><span class="token punctuation">[</span>連結<span class="token punctuation">]</span><span class="token punctuation">[</span>擁有者 <span class="token punctuation">]</span><span class="token punctuation">[</span>群組 <span class="token punctuation">]</span><span class="token punctuation">[</span>檔案容量<span class="token punctuation">]</span><span class="token punctuation">[</span>  修改日期   <span class="token punctuation">]</span><span class="token punctuation">[</span>      檔名            <span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ol>
<li><p>第一欄permission</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>-<span class="token punctuation">]</span><span class="token punctuation">[</span>rwx<span class="token punctuation">]</span><span class="token punctuation">[</span>r-x<span class="token punctuation">]</span><span class="token punctuation">[</span>r--<span class="token punctuation">]</span>
 <span class="token number">1</span>  <span class="token number">234</span>  <span class="token number">567</span>  <span class="token number">890</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<ul>
<li>1：代表這個檔名為目錄或檔案，本例中為檔案(-)；<ul>
<li>[ d ]則是目錄，例如上表檔名為『.gconf』的那一行；</li>
<li>[ - ]則是檔案，例如上表檔名為『install.log』那一行；</li>
<li>[ l ]則表示為連結檔(link file)；</li>
<li>[ b ]則表示為裝置檔裡面的可供儲存的周邊設備(可隨機存取裝置)；</li>
<li>[ c ]則表示為裝置檔裡面的序列埠設備，例如鍵盤、滑鼠(一次性讀取裝置)。</li>
</ul>
</li>
<li>234：擁有者的權限，本例中為可讀、可寫、可執行(rwx)；</li>
<li>567：同群組使用者權限，本例中為可讀可執行(rx)；</li>
<li>890：其他使用者權限，本例中為可讀(r)</li>
</ul>
</li>
<li><p>第二欄表示有多少檔名連結到此節點(i-node)：<br>每個檔案都會將他的權限與屬性記錄到檔案系統的i-node中，不過目錄樹卻是使用檔名來記錄， 因此每個檔名就會連結到一個i-node！這個屬性記錄有多少不同的檔名連結到相同的一個i-node號碼</p>
</li>
<li><p>第三欄表示這個檔案(或目錄)的”擁有者帳號”</p>
</li>
<li><p>第四欄表示這個檔案的所屬群組</p>
</li>
<li><p>第五欄為這個檔案的容量大小，預設單位為bytes；</p>
</li>
<li><p>第六欄為這個檔案的建檔日期或者是最近的修改日期：</p>
<ul>
<li>內容分別為日期(月&#x2F;日)及時間。如果被修改的時間距離現在太久了，那麼時間僅顯示年份而已。</li>
<li>如果想要顯示完整的時間格式，可以利用ls的選項，亦即：<code>ls -l --full-time</code></li>
<li>如果以中文安裝Linux系統，那麼日期欄位將會以中文來顯示。但中文並沒有辦法在純文字的終端機模式正確的顯示，此欄會變成亂碼。可以使用<code>LANG=en_US</code>修改語系</li>
<li>讓系統預設的語系變成英文的話，那麼你可以修改系統設定檔<code>/etc/sysconfig/i18n</code></li>
</ul>
</li>
<li><p>第七欄為這個檔案的檔名</p>
</li>
</ol>
<h3 id="2-1-Linux檔案屬性"><a href="#2-1-Linux檔案屬性" class="headerlink" title="2.1 Linux檔案屬性"></a>2.1 Linux檔案屬性</h3><p>各種身份的權限之修改的指令，如下</p>
<h4 id="chgrp：改變檔案所屬群組"><a href="#chgrp：改變檔案所屬群組" class="headerlink" title="chgrp：改變檔案所屬群組"></a>chgrp：改變檔案所屬群組</h4><ul>
<li>change group</li>
<li>群組名稱必須要在&#x2F;etc&#x2F;group檔案內存在</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># chgrp [-R] 群組名 檔案或目錄, ...</span>
參數 -R: 進行遞迴<span class="token punctuation">(</span>recursive<span class="token punctuation">)</span>持續變更，用在變更某一目錄內所有的檔案之情況。

假設已知在/etc/group裡面已經存在一個名為users的群組
<span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># chgrp users install.log</span>
<span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># ls -l</span>
-rw-r--r--  <span class="token number">1</span> root <span class="token function">users</span> <span class="token number">68495</span> Jun <span class="token number">25</span> 08:53 install.log

<span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># chgrp testing install.log</span>
chgrp: invalid group name `testing' <span class="token operator">&lt;=</span><span class="token operator">=</span> 發生錯誤訊息囉～找不到這個群組名～<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="chown：改變檔案擁有者"><a href="#chown：改變檔案擁有者" class="headerlink" title="chown：改變檔案擁有者"></a>chown：改變檔案擁有者</h4><ul>
<li>change owner</li>
<li>使用者名稱必須要在&#x2F;etc&#x2F;passwd存在</li>
<li>也可以同時修改帳號及群組</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># chown [-R] 帳號名稱 檔案或目錄</span>
<span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># chown [-R] 帳號名稱:群組名稱 檔案或目錄</span>
<span class="token comment"># 參數 -R: 進行遞迴(recursive)的持續變更，亦即連同次目錄下的所有檔案都變更</span>

<span class="token comment"># 範例：將install.log的擁有者改為bin這個帳號：</span>
<span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># chown bin install.log</span>

<span class="token comment"># 範例：將install.log的擁有者與群組改回為root：</span>
<span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># chown root:root install.log</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h4 id="chmod：改變檔案的權限-SUID-SGID-SBIT等等的特性"><a href="#chmod：改變檔案的權限-SUID-SGID-SBIT等等的特性" class="headerlink" title="chmod：改變檔案的權限, SUID, SGID, SBIT等等的特性"></a>chmod：改變檔案的權限, SUID, SGID, SBIT等等的特性</h4><ul>
<li><p>權限的設定方法有兩種，可以使用數字或者是符號來進行權限的變更</p>
</li>
<li><p>數字類型改變檔案權限</p>
<ul>
<li>Linux檔案的基本權限就有九個，分別是owner&#x2F;group&#x2F;others三種身份各有自己的read&#x2F;write&#x2F;execute權限<code>-rwxrwxrwx</code><ul>
<li>r:4, w:2, x:1</li>
</ul>
</li>
<li>每種身份(owner&#x2F;group&#x2F;others)各自的三個權限(r&#x2F;w&#x2F;x)分數是需要累加的，例如當權限為： <code>[-rwxrwx---]</code> 分數是<ul>
<li>owner &#x3D; rwx &#x3D; 4+2+1 &#x3D; 7</li>
<li>group &#x3D; rwx &#x3D; 4+2+1 &#x3D; 7</li>
<li>others&#x3D; — &#x3D; 0+0+0 &#x3D; 0</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># chmod [-R] xyz 檔案或目錄</span>
<span class="token comment"># 選項與參數：</span>
<span class="token comment"># xyz : 就是剛剛提到的數字類型的權限屬性，為 rwx 屬性數值的相加。</span>
<span class="token comment"># -R : 進行遞迴(recursive)的持續變更，亦即連同次目錄下的所有檔案都會變更</span>

<span class="token comment"># 如果要將.bashrc這個檔案所有的權限都設定啟用，那麼就下達：</span>
<span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># chmod 777 .bashrc</span>

<span class="token comment"># 設定 `-rwxr-xr--`</span>
<span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># chmod 754 filename</span>

<span class="token comment"># 將該檔案變成可執行檔，並且不要讓其他人修改 `-rwxr-xr-x`</span>
<span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># chmod 755 filename</span>

<span class="token comment"># 不希望被其他人看到 `-rwxr-----`</span>
<span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># chmod 740 filename</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

</li>
<li><p>符號類型改變檔案權限</p>
<ul>
<li>(1)user (2)group (3)others可以藉由u, g, o來代表三種身份的權限</li>
<li>a 則代表 all 亦即全部的身份，讀寫的權限就可以寫成r, w, x</li>
<li>使用<code>+-</code>的主要用途在，沒被指定到的項目，該權限「不會被變動」</li>
</ul>
<p><img src="/images/linux_bootcamp/chmod.png" alt="chmod"></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># 一個檔案的權限成為`-rwxr-xr-x`</span>
<span class="token comment"># 注意！u=rwx,go=rx 是連在一起的，中間並沒有任何空白字元！</span>
<span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># chmod  u=rwx,go=rx  .bashrc</span>

<span class="token comment"># 只想要增加.bashrc這個檔案的每個人均可寫入的權限</span>
<span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># chmod  a+w  .bashrc</span>

<span class="token comment"># 將執行權限去掉而不更動其他已存在的權限</span>
<span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># chmod  a-x  .bashrc</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<h3 id="2-3-目錄與檔案之權限意義"><a href="#2-3-目錄與檔案之權限意義" class="headerlink" title="2.3 目錄與檔案之權限意義"></a>2.3 目錄與檔案之權限意義</h3><ul>
<li><p>權限對檔案的重要性</p>
<ul>
<li>r (read)：可讀取此一檔案的實際內容，如讀取文字檔的文字內容等；</li>
<li>w (write)：可以編輯、新增或者是修改該檔案的內容(但不含刪除該檔案)；</li>
<li>x (eXecute)：該檔案具有可以被系統執行的權限。</li>
</ul>
</li>
<li><p>權限對目錄的重要性</p>
<ul>
<li>r (read contents in directory)：表示具有讀取目錄結構清單的權限，可以利用 ls 這個指令將該目錄的內容列表顯示出來</li>
<li>w (modify contents of directory)：異動該目錄結構清單的權限，也就是底下這些權限<ul>
<li>建立新的檔案與目錄</li>
<li>刪除已經存在的檔案與目錄(不論該檔案的權限為何！)</li>
<li>將已存在的檔案或目錄進行更名</li>
<li>搬移該目錄內的檔案、目錄位置</li>
</ul>
</li>
</ul>
</li>
<li><p>x (access directory)：</p>
<ul>
<li>目錄不能拿來執，目錄的x代表的是使用者能否進入該目錄成為工作目錄(work directory)的用途！例如<code>cd</code>(change directory)進入該目錄</li>
<li>如果你在某目錄下不具有x的權限， 那麼你就無法切換到該目錄下，也就無法執行該目錄下的任何指令，即使你具有該目錄的r的權限</li>
<li>要開放目錄給任何人瀏覽時，應該至少也要給予r及x的權限，但w權限不可隨便給</li>
</ul>
</li>
</ul>
<h3 id="2-4-Linux檔案種類與副檔名"><a href="#2-4-Linux檔案種類與副檔名" class="headerlink" title="2.4 Linux檔案種類與副檔名"></a>2.4 Linux檔案種類與副檔名</h3><h4 id="檔案類型"><a href="#檔案類型" class="headerlink" title="檔案類型"></a>檔案類型</h4><p>使用<code>ls -l</code>觀察到第一欄那十個字元中，第一個字元為檔案的類型。除了常見的一般檔案(-)與目錄檔案(d)之外</p>
<ul>
<li>正規檔案(regular file )：第一個字元為 <code>[ - ]</code>，又大略可以分為：<ul>
<li>純文字檔(ASCII)：可以下達<code>cat ~/filename</code>就可以看到該檔案的內容</li>
<li>二進位檔(binary)：系統其實僅認識且可以執行二進位檔案(binary file)，例如剛剛的cat就是一個binary file</li>
<li>資料格式檔(data)：有些程式在運作的過程當中會讀取某些特定格式的檔案，那些特定格式的檔案可以被稱為資料檔 (data file)</li>
</ul>
</li>
<li>目錄(directory)：第一個屬性為 <code>[ d ]</code></li>
<li>連結檔(link)：類似Windows系統的捷徑，第一個屬性為 <code>[ l ]</code>(英文L的小寫)</li>
<li>設備與裝置檔(device)：系統周邊及儲存等相關的一些檔案，通常集中在&#x2F;dev這個目錄之下，常見又分為兩種：<ul>
<li>區塊(block)設備檔 <code>[b]</code>：就是一些儲存資料，提供系統隨機存取的周邊設備，舉例來說，硬碟與軟碟等，你可以自行查一下&#x2F;dev&#x2F;sda看看</li>
<li>字元(character)設備檔 <code>[c]</code>：亦即是一些序列埠的周邊設備，例如鍵盤、滑鼠等，特色就是『一次性讀取』的，不能夠截斷輸出。舉例來說，不能讓滑鼠『跳到』另一個畫面，而是『滑動』到另一個地方</li>
</ul>
</li>
<li>資料接口檔(sockets)：第一個屬性為 <code>[ s ]</code>，這種類型的檔案通常被用在網路上的資料承接了。我們可以一個程式來監聽用戶端的要求，用戶端就可以透過這個socket來進行資料的溝通，最常在&#x2F;var&#x2F;run這個目錄中看到這種檔案類型</li>
<li>資料輸送檔(FIFO, pipe)：第一個屬性為 <code>[ p ]</code>，FIFO是一種特殊的檔案類型，主要在解決多個程序同時存取一個檔案所造成的錯誤問題</li>
</ul>
<h4 id="副檔名"><a href="#副檔名" class="headerlink" title="副檔名"></a>副檔名</h4><p>基本上，Linux的檔案是沒有所謂的副檔名的，不過我們通常我們還是會以適當的副檔名來表示該檔案是什麼種類。底下有數種常用的副檔名：</p>
<ul>
<li><code>*.sh</code>：腳本或批次檔 (scripts)，因為批次檔為使用shell寫成的，所以副檔名就編成 .sh 囉；</li>
<li><code>*Z, *.tar, *.tar.gz, *.zip, *.tgz</code>：經過打包的壓縮檔。這是因為壓縮軟體分別為 gunzip, tar 等等的，由於不同的壓縮軟體，而取其相關的副檔名</li>
<li><code>*.html, *.php</code>：網頁相關檔案，分別代表 HTML 語法與 PHP 語法的網頁檔案<ul>
<li><code>*.html</code> 的檔案可使用網頁瀏覽器來直接開啟</li>
<li><code>*.php</code> 的檔案，則可以透過 client 端的瀏覽器來 server 端瀏覽，以得到運算後的網頁結果</li>
</ul>
</li>
</ul>
<h4 id="檔案名稱限制"><a href="#檔案名稱限制" class="headerlink" title="檔案名稱限制"></a>檔案名稱限制</h4><ul>
<li>在Linux底下，使用預設的Ext2&#x2F;Ext3檔案系統時，針對檔案的檔名長度限制為：<ul>
<li>單一檔案或目錄的最大容許檔名為 255 個字元</li>
<li>包含完整路徑名稱及目錄 (&#x2F;) 之完整檔名為 4096 個字元</li>
</ul>
</li>
</ul>
<h2 id="3-Linux目錄配置"><a href="#3-Linux目錄配置" class="headerlink" title="3. Linux目錄配置"></a>3. Linux目錄配置</h2><ul>
<li>Filesystem Hierarchy Standard (<a target="_blank" rel="noopener" href="http://www.pathname.com/fhs">FHS</a>)</li>
</ul>
<h3 id="3-1-Linux目錄配置的依據–FHS"><a href="#3-1-Linux目錄配置的依據–FHS" class="headerlink" title="3.1 Linux目錄配置的依據–FHS"></a>3.1 Linux目錄配置的依據–FHS</h3><p>FHS依據檔案系統使用的頻繁與否與是否允許使用者隨意更動，將目錄定義成為四種交互作用的形態</p>
<table>
<thead>
<tr>
<th></th>
<th>可分享的(shareable)</th>
<th>不可分享的(unshareable)</th>
</tr>
</thead>
<tbody><tr>
<td>不變的(static)</td>
<td>&#x2F;usr (軟體放置處), &#x2F;opt (第三方協力軟體)</td>
<td>&#x2F;etc (設定檔), &#x2F;boot (開機與核心檔)</td>
</tr>
<tr>
<td>可變動的(variable)</td>
<td>&#x2F;var&#x2F;mail (使用者郵件信箱), &#x2F;var&#x2F;spool&#x2F;news (新聞群組)</td>
<td>&#x2F;var&#x2F;run (程序相關), &#x2F;var&#x2F;lock (程序相關)</td>
</tr>
</tbody></table>
<ul>
<li>可分享的：可以分享給其他系統掛載使用的目錄，所以包括執行檔與使用者的郵件等資料，是能夠分享給網路上其他主機掛載用的目錄</li>
<li>不可分享的：自己機器上面運作的裝置檔案或者是與程序有關的socket檔案等，僅與自身機器有關，所以不適合分享給其他主機</li>
<li>不變的：有些資料是不會經常變動的，跟隨著distribution而不變動。例如函式庫、文件說明檔、系統管理員所管理的主機服務設定檔等</li>
<li>可變動的：經常改變的資料，例如登錄檔、一般用戶可自行收受的新聞群組等</li>
</ul>
<p>FHS針對目錄樹架構僅定義出三層目錄底下應該放置什麼資料而已，分別是底下這三個目錄的定義：</p>
<ul>
<li><code>/</code> (root, 根目錄)：與開機系統有關；</li>
<li><code>/usr</code> (unix software resource)：與軟體安裝&#x2F;執行有關；</li>
<li><code>/var</code> (variable)：與系統運作過程有關。</li>
</ul>
<h4 id="根目錄-x2F-的意義與內容："><a href="#根目錄-x2F-的意義與內容：" class="headerlink" title="根目錄 (&#x2F;) 的意義與內容："></a>根目錄 (&#x2F;) 的意義與內容：</h4><p>根目錄是整個系統最重要的一個目錄，不但所有的目錄都是由根目錄衍生出來的，同時也與開機&#x2F;還原&#x2F;系統修復等動作有關。由於系統開機時需要特定的開機軟體、核心檔案、開機所需程式、函式庫等等檔案資料，若系統出現錯誤時，根目錄也必須要包含有能夠修復檔案系統的程式才行。因為根目錄是這麼的重要，所以在FHS的要求方面，他希望根目錄不要放在非常大的分割槽內，因為越大的分割槽會放入越多的資料，如此一來根目錄所在分割槽就可能會有較多發生錯誤的機會。</p>
<p>因此FHS標準建議：根目錄(&#x2F;)所在分割槽應該越小越好， 且應用程式所安裝的軟體最好不要與根目錄放在同一個分割槽內，保持根目錄越小越好。 如此不但效能較佳，根目錄所在的檔案系統也較不容易發生問題</p>
<ul>
<li><code>/bin</code>: 系統有很多放置執行檔的目錄，但&#x2F;bin比較特殊。因為&#x2F;bin放置的是在單人維護模式下還能夠被操作的指令<ul>
<li>&#x2F;bin底下的指令可以被root與一般帳號所使用</li>
<li>主要有: cat, chmod, chown, date, mv, mkdir, cp, bash等等常用的指令。</li>
</ul>
</li>
<li><code>/boot</code>: 主要在放置開機會使用到的檔案，包括Linux核心檔案以及開機選單與開機所需設定檔等等<ul>
<li>Linux kernel常用的檔名為：vmlinuz，如果使用的是grub這個開機管理程式，則還會存在&#x2F;boot&#x2F;grub&#x2F;這個目錄</li>
</ul>
</li>
<li><code>/dev</code>: 任何裝置與周邊設備都是以檔案的型態存在於這個目錄當中的。 你只要透過存取這個目錄底下的某個檔案，就等於存取某個裝置<ul>
<li>比要重要的檔案有: &#x2F;dev&#x2F;null, &#x2F;dev&#x2F;zero, &#x2F;dev&#x2F;tty, &#x2F;dev&#x2F;lp*, &#x2F;dev&#x2F;hd*, &#x2F;dev&#x2F;sd*等等</li>
</ul>
</li>
<li><code>/etc</code> (and so on): 系統主要的設定檔幾乎都放置在這個目錄內，例如人員的帳號密碼檔、各種服務的啟始檔等<ul>
<li>一般來說，這個目錄下的各檔案屬性是可以讓一般使用者查閱的，但只有root有權力修改</li>
<li>FHS建議不要放置可執行檔(binary)在這個目錄中</li>
<li>比較重要的檔案有: &#x2F;etc&#x2F;inittab, &#x2F;etc&#x2F;init.d&#x2F;, &#x2F;etc&#x2F;modprobe.conf, &#x2F;etc&#x2F;X11&#x2F;, &#x2F;etc&#x2F;fstab, &#x2F;etc&#x2F;sysconfig&#x2F; 等。另外，其下重要的目錄有：<ul>
<li><code>/etc/init.d/</code>：所有服務的預設啟動 script 都是放在這裡的，例如要啟動或者關閉iptables: <code>/etc/init.d/iptables start</code>, <code>/etc/init.d/iptables stop</code></li>
<li><code>/etc/xinetd.d/</code>：這就是所謂的super daemon管理的各項服務的設定檔目錄。</li>
<li><code>/etc/X11/</code>：與 X Window 有關的各種設定檔都在這裡，尤其是 xorg.conf 這個 X Server 的設定檔。</li>
</ul>
</li>
</ul>
</li>
<li><code>/home</code>: 這是系統預設的使用者家目錄(home directory)。在你新增一個一般使用者帳號時，預設的使用者家目錄都會規範到這裡，另外家目錄有兩種代號：<ul>
<li><code>~</code>：代表目前這個使用者的家目錄，而</li>
<li><code>~dmtsai</code>：代表 dmtsai 的家目錄</li>
</ul>
</li>
<li><code>/lib</code>: 系統的函式庫非常的多，而&#x2F;lib放置的則是在”開機時會用到的函式庫”，以及在&#x2F;bin或&#x2F;sbin底下的指令會呼叫的函式庫而已<ul>
<li>尤其重要的是&#x2F;lib&#x2F;modules&#x2F;這個目錄，因為該目錄會放置核心相關的模組(驅動程式)</li>
</ul>
</li>
<li><code>/media</code>: media是媒體的英文，&#x2F;media底下放置的就是可移除的裝置！包括軟碟、光碟、DVD等等裝置都暫時掛載於此<ul>
<li>常見的檔名有：&#x2F;media&#x2F;floppy, &#x2F;media&#x2F;cdrom等等。</li>
</ul>
</li>
<li><code>/mnt</code>: 如果妳想要暫時掛載某些額外的裝置，一般建議妳可以放置到這個目錄中</li>
<li><code>/opt</code>: 這個是給第三方協力軟體放置的目錄。<ul>
<li>什麼是第三方協力軟體啊？舉例來說，KDE這個桌面管理系統是一個獨立的計畫，不過他可以安裝到Linux系統中，因此KDE的軟體就建議放置到此目錄下了。</li>
<li>另外，如果自行安裝額外的軟體(非原本的distribution提供的)，那麼也能夠將軟體安裝到這裡來。不過以前的Linux系統中還是習慣放置在&#x2F;usr&#x2F;local目錄下</li>
</ul>
</li>
<li><code>/root</code>: 系統管理員(root)的家目錄。因為如果進入單人維護模式而僅掛載根目錄時，該目錄就能夠擁有root的家目錄，所以我們會希望root的家目錄與根目錄放置在同一個分割槽中。</li>
<li><code>/sbin</code>: Linux有非常多指令是用來設定系統環境的，這些指令只有root才能夠利用來『設定』系統，其他使用者最多只能用來『查詢』而已。放在&#x2F;sbin底下的為開機過程中所需要的，裡面包括了開機、修復、還原系統所需要的指令<ul>
<li>某些伺服器軟體程式，一般則放置到&#x2F;usr&#x2F;sbin&#x2F;當中</li>
<li>至於本機自行安裝的軟體所產生的系統執行檔(system binary)，則放置到&#x2F;usr&#x2F;local&#x2F;sbin&#x2F;當中了</li>
<li>常見的指令包括：fdisk, fsck, ifconfig, init, mkfs等等</li>
</ul>
</li>
<li><code>/srv</code>: srv可以視為『service』的縮寫，是一些網路服務啟動之後，這些服務所需要取用的資料目錄。<ul>
<li>常見的服務例如WWW, FTP等等。舉例來說，WWW伺服器需要的網頁資料就可以放置在&#x2F;srv&#x2F;www&#x2F;裡面。</li>
</ul>
</li>
<li><code>/tmp</code>: 這是讓一般使用者或者是正在執行的程序暫時放置檔案的地方。 這個目錄是任何人都能夠存取的，所以需要定期清理一下。<ul>
<li>重要資料不可放置在此目錄！因為FHS甚至建議在開機時，應該要將&#x2F;tmp下的資料都刪除</li>
</ul>
</li>
</ul>
<p>FHS針對根目錄所定義的標準就僅有上面，不過Linux底下還有許多其他重要目錄你需要瞭解一下：</p>
<ul>
<li><code>/lost+found</code>: 這個目錄是使用標準的ext2&#x2F;ext3檔案系統格式才會產生的一個目錄，目的在於當檔案系統發生錯誤時，將一些遺失的片段放置到這個目錄下<ul>
<li>這個目錄通常會在分割槽的最頂層存在， 例如你加裝一顆硬碟於&#x2F;disk中，那在這個系統下就會自動產生一個這樣的目錄『&#x2F;disk&#x2F;lost+found』</li>
</ul>
</li>
<li><code>/proc</code>: 這個目錄本身是一個『虛擬檔案系統(virtual filesystem)』！他放置的資料都是在記憶體當中，例如系統核心、行程資訊(process)、周邊裝置的狀態及網路狀態等等。<ul>
<li>因為這個目錄下的資料都是在記憶體當中， 所以本身不佔任何硬碟空間</li>
<li>比較重要的檔案例如：&#x2F;proc&#x2F;cpuinfo, &#x2F;proc&#x2F;dma, &#x2F;proc&#x2F;interrupts, &#x2F;proc&#x2F;ioports, &#x2F;proc&#x2F;net&#x2F;* 等等。</li>
</ul>
</li>
<li><code>/sys</code>: 這個目錄其實跟&#x2F;proc非常類似，也是一個虛擬的檔案系統，主要也是記錄與核心相關的資訊。 包括目前已載入的核心模組與核心偵測到的硬體裝置資訊等等。<ul>
<li>這個目錄同樣不佔硬碟容量</li>
</ul>
</li>
</ul>
<p>除了這些目錄的內容之外，另外要注意的是，因為根目錄與開機有關，開機過程中僅有根目錄會被掛載，其他分割槽則是在開機完成之後才會持續的進行掛載的行為。因為如此，因此根目錄下與開機過程有關的目錄， 就不能夠與根目錄放到不同的分割槽去！包含底下這些：</p>
<ul>
<li>&#x2F;etc：設定檔</li>
<li>&#x2F;bin：重要執行檔</li>
<li>&#x2F;dev：所需要的裝置檔案</li>
<li>&#x2F;lib：執行檔所需的函式庫與核心所需的模組</li>
<li>&#x2F;sbin：重要的系統執行檔</li>
</ul>
<h4 id="x2F-usr-的意義與內容"><a href="#x2F-usr-的意義與內容" class="headerlink" title="&#x2F;usr 的意義與內容"></a>&#x2F;usr 的意義與內容</h4><p>依據FHS的定義，&#x2F;usr裡面放置的資料屬於可分享的與不可變動的(shareable, static)</p>
<p>很多人都會誤會&#x2F;usr為user的縮寫，其實usr是Unix Software Resource的縮寫，也就是『Unix作業系統軟體資源』所放置的目錄。FHS建議所有軟體開發者，應該將他們的資料合理的分別放置到這個目錄下的次目錄，而不要自行建立該軟體自己獨立的目錄。</p>
<p>因為是所有系統預設的軟體(distribution發佈者提供的軟體)都會放置到&#x2F;usr底下，因此這個目錄有點類似Windows 系統的『C:\Windows\ (當中的一部份) + C:\Program files\』這兩個目錄的綜合體，系統剛安裝完畢時，這個目錄會佔用最多的硬碟容量。一般來說，&#x2F;usr的次目錄建議有底下這些：</p>
<ul>
<li><code>/usr/X11R6/</code>: 為X Window System重要資料所放置的目錄，之所以取名為X11R6是因為最後的X版本為第11版，且該版的第6次釋出之意。</li>
<li><code>/usr/bin/</code>: 絕大部分的使用者可使用指令都放在這裡！請注意到他與&#x2F;bin的不同之處。(是否與開機過程有關)</li>
<li><code>/usr/include/</code>: c&#x2F;c++等程式語言的檔頭(header)與包含檔(include)放置處，當我們以tarball方式 (*.tar.gz 的方式安裝軟體)安裝某些資料時，會使用到裡頭的許多包含檔喔！</li>
<li><code>/usr/lib/</code>: 包含各應用軟體的函式庫、目標檔案(object file)，以及不被一般使用者慣用的執行檔或腳本(script)。<ul>
<li>某些軟體會提供一些特殊的指令來進行伺服器的設定，這些指令也不會經常被系統管理員操作，那就會被擺放到這個目錄下</li>
<li>如果你使用的是X86_64的Linux系統， 那可能會有&#x2F;usr&#x2F;lib64&#x2F;目錄產生</li>
</ul>
</li>
<li><code>/usr/local/</code>: 系統管理員在本機自行安裝自己下載的軟體(非distribution預設提供者)，建議安裝到此目錄，這樣會比較便於管理。<ul>
<li>可以自行到&#x2F;usr&#x2F;local去看看，該目錄下也是具有bin, etc, include, lib…的次目錄喔！</li>
</ul>
</li>
<li><code>/usr/sbin/</code>: 非系統正常運作所需要的系統指令。最常見的就是某些網路伺服器軟體的服務指令(daemon)囉</li>
<li><code>/usr/share/</code>: 放置共享文件的地方，在這個目錄下放置的資料幾乎是不分硬體架構均可讀取的資料，幾乎都是文字檔案！在此目錄下常見的還有這些次目錄：<ul>
<li><code>/usr/share/man</code>: 線上說明文件</li>
<li><code>/usr/share/doc</code>: 軟體雜項的文件說明</li>
<li><code>/usr/share/zoneinfo</code>: 與時區有關的時區檔案</li>
<li><code>/usr/src/</code>: 一般原始碼建議放置到這裡，src有source的意思。至於核心原始碼則建議放置到&#x2F;usr&#x2F;src&#x2F;linux&#x2F;目錄下。</li>
</ul>
</li>
</ul>
<blockquote>
<p><strong><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1679890">&#x2F;sbin, &#x2F;bin, &#x2F;usr&#x2F;sbin, &#x2F;usr&#x2F;bin 差別</a></strong><br>這些目錄都是存放命令的，首先區別下&#x2F;sbin和&#x2F;bin：</p>
<ul>
<li><p>從命令功能來看，&#x2F;sbin 下的命令屬於基本的系統命令，如shutdown，reboot，用於啟動系統，修復系統，&#x2F;bin下存放一些普通的基本命令，如ls,chmod等，這些命令在Linux系統裡的配置文件腳本里經常用到。</p>
</li>
<li><p>從用戶權限的角度看，&#x2F;sbin目錄下的命令通常只有管理員才可以運行，&#x2F;bin下的命令管理員和一般的用戶都可以使用。</p>
</li>
<li><p>從可運行時間角度看，&#x2F;sbin,&#x2F;bin能夠在掛載其他文件系統前就可以使用。</p>
</li>
<li><p>而&#x2F;usr&#x2F;bin,&#x2F;usr&#x2F;sbin與&#x2F;sbin &#x2F;bin目錄的區別在於</p>
<ul>
<li>&#x2F;bin,&#x2F;sbin目錄是在系統啟動後掛載到根文件系統中的，所以&#x2F;sbin,&#x2F;bin目錄必須和根文件系統在同一分區；</li>
<li>&#x2F;usr&#x2F;bin,usr&#x2F;sbin可以和根文件系統不在一個分區。</li>
<li>&#x2F;usr&#x2F;sbin存放的一些非必須的系統命令；&#x2F;usr&#x2F;bin存放一些用戶命令，如led(控制LED燈的)。</li>
</ul>
</li>
<li><p>轉一位網友的解讀：</p>
<ul>
<li>&#x2F;bin是系統的一些指令。 bin為binary的簡寫主要放置一些系統的必備執行檔例如:cat、cp、chmod df、dmesg、gzip、kill、ls、mkdir、more、mount、rm、su、tar等</li>
<li>&#x2F;sbin一般是指超級用戶指令。主要放置一些系統管理的必備程式例如:cfdisk、dhcpcd、dump、e2fsck、fdisk、halt、ifconfig、ifup、 ifdown、init、insmod、lilo、lsmod、mke2fs、modprobe、quotacheck、reboot、rmmod、 runlevel、shutdown等</li>
<li>&#x2F;usr&#x2F;bin　是你在後期安裝的一些軟件的運行腳本。主要放置一些應用軟體工具的必備執行檔例如c++、g++、gcc、chdrv、diff、dig、du、eject、elm、free、gnome<em>、 gzip、htpasswd、kfm、ktop、last、less、locale、m4、make、man、mcopy、ncftp、 newaliases、nslookup passwd、quota、smb</em>、wget等。</li>
</ul>
</li>
</ul>
</blockquote>
<h4 id="x2F-var-的意義與內容"><a href="#x2F-var-的意義與內容" class="headerlink" title="&#x2F;var 的意義與內容"></a>&#x2F;var 的意義與內容</h4><p>如果&#x2F;usr是安裝時會佔用較大硬碟容量的目錄，那麼&#x2F;var就是在系統運作後才會漸漸佔用硬碟容量的目錄。因為&#x2F;var目錄主要針對常態性變動的檔案，包括快取(cache)、登錄檔(log file)以及某些軟體運作所產生的檔案，包括程序檔案(lock file, run file)，或者例如MySQL資料庫的檔案等等。常見的次目錄有：</p>
<ul>
<li><code>/var/cache/</code>: 應用程式本身運作過程中會產生的一些暫存檔；</li>
<li><code>/var/lib/</code>: 程式本身執行的過程中，需要使用到的資料檔案放置的目錄。在此目錄下各自的軟體應該要有各自的目錄。<ul>
<li>例，MySQL的資料庫放置到&#x2F;var&#x2F;lib&#x2F;mysql&#x2F;, rpm的資料庫則放到&#x2F;var&#x2F;lib&#x2F;rpm</li>
</ul>
</li>
<li><code>/var/lock/</code>: 某些裝置或者是檔案資源一次只能被一個應用程式所使用，如果同時有兩個程式使用該裝置時，就可能產生一些錯誤的狀況，因此就得要將該裝置上鎖(lock)，以確保該裝置只會給單一軟體所使用。<ul>
<li>舉例來說，燒錄機正在燒錄一塊光碟，你想一下，會不會有兩個人同時在使用一個燒錄機燒片？</li>
</ul>
</li>
<li><code>/var/log/</code>: 重要到不行！這是登錄檔放置的目錄！<ul>
<li>裡面比較重要的檔案如&#x2F;var&#x2F;log&#x2F;messages, &#x2F;var&#x2F;log&#x2F;wtmp(記錄登入者的資訊)等。</li>
</ul>
</li>
<li><code>/var/mail/</code>: 放置個人電子郵件信箱的目錄，不過這個目錄也被放置到&#x2F;var&#x2F;spool&#x2F;mail&#x2F;目錄中！通常這兩個目錄是互為連結檔！</li>
<li><code>/var/run/</code>: 某些程式或者是服務啟動後，會將他們的PID放置在這個目錄下喔！ 至於PID的意義我們會在後續章節提到的。</li>
<li><code>/var/spool/</code>: 這個目錄通常放置一些佇列資料，所謂的『佇列』就是排隊等待其他程式使用的資料啦！這些資料被使用後通常都會被刪除<ul>
<li>系統收到新信會放置到&#x2F;var&#x2F;spool&#x2F;mail&#x2F;中，但使用者收下該信件後該封信原則上就會被刪除。</li>
<li>信件如果暫時寄不出去會被放到&#x2F;var&#x2F;spool&#x2F;mqueue&#x2F;中，等到被送出後就被刪除</li>
<li>如果是工作排程資料(crontab)，就會被放置到&#x2F;var&#x2F;spool&#x2F;cron&#x2F;目錄中</li>
</ul>
</li>
</ul>
<h3 id="3-2-目錄樹-directory-tree"><a href="#3-2-目錄樹-directory-tree" class="headerlink" title="3.2 目錄樹(directory tree)"></a>3.2 目錄樹(directory tree)</h3><p><a href="/images/linux_bootcamp/directory_tree.gif">directory tree</a></p>
<h3 id="3-3-絕對路徑與相對路徑"><a href="#3-3-絕對路徑與相對路徑" class="headerlink" title="3.3 絕對路徑與相對路徑"></a>3.3 絕對路徑與相對路徑</h3><h3 id="3-4-CentOS-的觀察：-lsb-release"><a href="#3-4-CentOS-的觀察：-lsb-release" class="headerlink" title="3.4 CentOS 的觀察： lsb_release"></a>3.4 CentOS 的觀察： lsb_release</h3><p>某些時刻你可能想要知道你的 distribution 使用的是那個 Linux 標準 (Linux Standard Base)，而且我們也知道 distribution 使用的都是 Linux 的核心！那你如何觀察這些基本的資訊呢？ 可以使用如下的指令來觀察</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># uname -r</span>
<span class="token number">2.6</span>.18-128.el5 <span class="token operator">&lt;=</span><span class="token operator">=</span>可以察看實際的核心版本

<span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># lsb_release -a</span>
LSB Version:    :core-3.1-amd64:core-3.1-ia32:core-3.1-noarch:graphics-3.1-amd64:
graphics-3.1-ia32:graphics-3.1-noarch      <span class="token operator">&lt;=</span><span class="token operator">=</span>LSB 的版本
Distributor ID: CentOS
Description:    CentOS release <span class="token number">5.3</span> <span class="token punctuation">(</span>Final<span class="token punctuation">)</span> <span class="token operator">&lt;=</span><span class="token operator">=</span>distribution 的版本
Release:        <span class="token number">5.3</span>
Codename:       Final<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        Author:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">鳥哥</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        Link:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://aaronyen0.github.io/2022/11/20/linux/linux_vbird_ch05_file_permission/">https://aaronyen0.github.io/2022/11/20/linux/linux_vbird_ch05_file_permission/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        Reprint policy:
                    </i>
                </span>
                <span class="reprint-info">
                    All articles in this blog are used except for special statements
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    reprint policy. If reproduced, please indicate source
                    <a href="/about" target="_blank">鳥哥</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>Copied successfully, please follow the reprint policy of this article</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">more</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/Linux/">
                                    <span class="chip bg-color">Linux</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
        </div>
    </div>

    

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;Previous</div>
            <div class="card">
                <a href="/2022/11/27/linux/linux_vbird_ch06_file_manager/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/11.jpg" class="responsive-img" alt="鳥哥私房菜 ch6：檔案與目錄管理">
                        
                        <span class="card-title">鳥哥私房菜 ch6：檔案與目錄管理</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            Linux file permission
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2022-11-27
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Linux-Bootcamp/" class="post-category">
                                    Linux Bootcamp
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Linux/">
                        <span class="chip bg-color">Linux</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                Next&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2022/11/19/linux/linux_vbird_ch02_disk_partition/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/22.jpg" class="responsive-img" alt="鳥哥私房菜 ch2：主機規劃與磁碟分割">
                        
                        <span class="card-title">鳥哥私房菜 ch2：主機規劃與磁碟分割</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            Linux Disk Partition
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2022-11-19
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Linux-Bootcamp/" class="post-category">
                                    Linux Bootcamp
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Linux/">
                        <span class="chip bg-color">Linux</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>


  <!-- 是否加载使用自带的 prismjs. -->
  <script type="text/javascript" src="/libs/prism/prism.min.js"></script>


<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>



    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;TOC</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    

    <div class="container row center-align"
         style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2021-2022</span>
            
            <a href="/about" target="_blank">Aaron Yen</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;Total visits:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;Total visitors:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- 运行天数提醒. -->
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/aaronyen0" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>















</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;Search</span>
            <input type="search" id="searchInput" name="s" placeholder="Please enter a search keyword"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 白天和黑夜主题 -->
<div class="stars-con">
    <div id="stars"></div>
    <div id="stars2"></div>
    <div id="stars3"></div>  
</div>

<script>
    function switchNightMode() {
        $('<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>').appendTo($('body')),
        setTimeout(function () {
            $('body').hasClass('DarkMode') 
            ? ($('body').removeClass('DarkMode'), localStorage.setItem('isDark', '0'), $('#sum-moon-icon').removeClass("fa-sun").addClass('fa-moon')) 
            : ($('body').addClass('DarkMode'), localStorage.setItem('isDark', '1'), $('#sum-moon-icon').addClass("fa-sun").removeClass('fa-moon')),
            
            setTimeout(function () {
            $('.Cuteen_DarkSky').fadeOut(1e3, function () {
                $(this).remove()
            })
            }, 2e3)
        })
    }
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    

    

    <!-- 雪花特效 -->
    

    <!-- 鼠标星星特效 -->
    

     
        <script src="https://ssl.captcha.qq.com/TCaptcha.js"></script>
        <script src="/libs/others/TencentCaptcha.js"></script>
        <button id="TencentCaptcha" data-appid="xxxxxxxxxx" data-cbfn="callback" type="button" hidden></button>
    

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    <!--腾讯兔小巢-->
    
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
